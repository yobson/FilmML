# Things too long for comments

In here I will be documenting anything too long to put as a comment in the actual code.

## SEL and IMP

SEL and IMP are both types in Objective C and I use them quite a lot as a way of optimizing the code. SEL is a pointer to a method selector. I realise that that isn't very helpful so I am including apple's description of it:

```c
typedef struct objc_selector *SEL;
```

> Method selectors are used to represent the name of a method at runtime. A method selector is a C string that has been registered (or “mapped“) with the Objective-C runtime. Selectors generated by the compiler are automatically mapped by the runtime when the class is loaded.

It is a place to store a message that can be sent to an object.

IMP is a pointer to the space in memory a method really is. As you may or may not know, objective c works by sending messages to objects which respond and return results. The computer doesn't just access a method at a certain point in memory like in C++. Although this is fantastic for many things, it is slower than I would have liked. This is where the IMP type comes in.

```C
id (*IMP)(id, SEL, ...)
```

> This data type is a pointer to the start of the function that implements the method. This function uses standard C calling conventions as implemented for the current CPU architecture. The first argument is a pointer to `self` (that is, the memory for the particular instance of this class, or, for a class method, a pointer to the metaclass). The second argument is the method selector. The method arguments follow.

So by using a SEL and IMP, I can make essentially a pointer to a C function (of return type id). When I call the IMP, it executes without having to faff around funding the code to run. This means if I have a loop that calls a method in an objc object repeatedly, it is far faster to use an IMP and SEL.